<ng-template *ngIf="loading$ | async">
  <mat-spinner color="accent" #loading></mat-spinner>
</ng-template>
<div *ngIf="(movie$ | async) as movie;">
  <header>
    <article fxLayout="row">
      <ng-container *ngIf=" movie.main.poster as poster">
        <img class="movie-poster" [imgRef]="poster" alt="movie poster"/>
      </ng-container>
      <div>
        <h4> {{ movie.main.workType | uppercase }} |{{ movie.main.status | uppercase }} | {{ movie.main.totalRunTime}} MIN</h4>
        <h1>{{ movie.main.title.international }}</h1>
        <h6 *ngFor="let director of movie.main.directors; let isLast=last">
           {{ director.firstName }} {{ director.lastName }}{{ isLast? '':','}}</h6>
        <p class="mat-body-2" *ngFor="let country of movie.main.originCountries; let isLast=last">
          {{ getLabelByCode('TERRITORIES', country) }}{{ isLast?'':' /'}}
          <span>, {{ movie.main.productionYear }}</span>
        </p>
      </div>
    </article>
  </header>
  <section>
    <nav mat-tab-nav-bar>
      <a mat-tab-link
         *ngFor="let link of navLinks"
         [routerLink]="link.path"
         routerLinkActive #rla="routerLinkActive"
         [active]="rla.isActive">
        {{link.label}}
      </a>
    </nav>
    <router-outlet></router-outlet>
  </section>
</div>