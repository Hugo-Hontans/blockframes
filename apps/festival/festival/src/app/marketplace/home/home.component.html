<!-- TODO(#838): Use HostBinding instead of root div -->
<div test-id="content">
  <header fxLayout="column" fxLayoutAlign="center start" fxLayoutAlign.xs="center center" fxLayoutGap="20px"
    class="dark-contrast-theme">
    <h4>WELCOME TO ARCHIPEL MARKET</h4>
    <h1>The endless film market</h1>
    <a mat-flat-button color="accent" test-id="library" routerLink="../title">What's on the market today</a>
  </header>

  <section fxLayout="column">
    <ng-container *ngFor="let section of sections; let i = index">
      <h1>{{ section.title }}</h1>
      <bf-carousel flex>
        <ng-container *ngFor="let movie of section.movies$ | async">
          <movie-card [movie]="movie" size="poster"></movie-card>
        </ng-container>
      </bf-carousel>
      <ng-container *ngIf="i === 0">
        <bf-slider hideIndicators loop loop hideIndicators class="dark-contrast-theme">
          <bf-slide *ngFor="let movie of section.movies$ | async" overlayColor="gradient"
            [image]="movie.promotionalElements.banner.media">
            <movie-slide [movie]="movie">
              <movie-slide-cta>
                <ng-container *ngIf="movie.promotionalElements.trailer">
                  <a mat-stroked-button color="accent" routerLink="title">More details</a>
                </ng-container>
              </movie-slide-cta>
              <movie-slide-actions>
                <wishlist-button [movieId]="movie.id"></wishlist-button>
              </movie-slide-actions>
            </movie-slide>
          </bf-slide>
        </bf-slider>
      </ng-container>
    </ng-container>
  </section>
</div>