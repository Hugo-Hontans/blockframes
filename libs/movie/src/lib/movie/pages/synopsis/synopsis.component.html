<tunnel-page>
  <h1 subtitle>Storyline Elements</h1>
  <ng-container tunnel-form>
    <section id="logline">
      <h3>Logline</h3>
      <mat-form-field appearance="outline">
        <textarea matInput
          [formControl]="logline"
          cdkTextareaAutosize cdkAutosizeMinRows="5" maxlength="350" type="string"
          placeholder="e.g A seventeen-year-old aristocrat falls in love with a kind but poor artist aboard the luxruious, ill-fated Titanic."></textarea>
        <mat-hint align="start">Logline should not exceed 350 characters</mat-hint>
        <mat-error *ngIf="logline.hasError('maxlength')">
          Logline should not exceed 350 characters.
        </mat-error>
      </mat-form-field>
    </section>

    <mat-divider></mat-divider>

    <section id="synopsis">
      <h3>Synopsis *</h3>
      <mat-form-field appearance="outline">
        <textarea matInput
          [formControl]="synopsis"
          cdkTextareaAutosize cdkAutosizeMinRows="5" maxlength="1500" type="string" aria-label="synopsis"
          placeholder="e.g A seventeen-year-old aristocrat falls in love with a kind but poor artist aboard the luxruious, ill-fated Titanic." required></textarea>
        <mat-hint align="start">{{ synopsis.value.length }} / 1500</mat-hint>
        <mat-error *ngIf="synopsis.hasError('required')">
          Please fill in your project's synopsis.
        </mat-error>
      </mat-form-field>
    </section>

    <mat-divider></mat-divider>

    <section id="key-assets">
      <h3>Key Assets</h3>
      <mat-form-field appearance="outline">
        <mat-label>Key Assets</mat-label>
        <textarea matInput maxlength="750" cdkTextareaAutosize cdkAutosizeMinRows="5" type="string"
        placeholder="e.g. Titanic is one of the most awarded films and biggest box-office successes of all time, starring young award-winning Kate Winslet and Leonardo DiCaprio, with an original soundtrack from CÃ©line Dion."
        [formControl]="keyAssets">
        </textarea>
        <mat-hint align="start">Highlight your film's main selling point(s).</mat-hint>
        <mat-error *ngIf="keyAssets.hasError('maxlength')">
          Key assets should not exceed 750 characters.
        </mat-error>
      </mat-form-field>
    </section>

    <mat-divider></mat-divider>

    <section id="keywords">
      <h3>Keywords</h3>
      <mat-form-field appearance="outline">
        <mat-label>Keywords</mat-label>
        <mat-chip-list #chipList>
          <ng-container *ngFor="let value of values$ | async; let i = index">
            <mat-chip removable="true" (removed)="remove(i)">
              <span>{{ value }}</span>
              <mat-icon matChipRemove svgIcon="close"></mat-icon>
            </mat-chip>
          </ng-container>
        </mat-chip-list>
        <input matInput
        [formControl]="keyword"
        [matChipInputFor]="chipList"
        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
        (matChipInputTokenEnd)="add($event)"
        placeholder="e.g. Ship, Shipwreck, Disaster, Iceberg, Young Love, Forbidden Love, Social Class"
        />
        <mat-hint>Use commas or press Enter key to separate keywords.</mat-hint>
      </mat-form-field>
    </section>
  </ng-container>
</tunnel-page>
