<mat-list-item>
  <bf-img matListAvatar *ngIf="invitation.fromUser" asset="profil_user.webp" [ref]="invitation.fromUser.avatar"
    alt="Profile picture"></bf-img>
  <bf-img matListAvatar *ngIf="invitation.fromOrg" asset="profil_user.webp" [ref]="invitation.fromOrg.logo"
    alt="Organization logo"></bf-img>
  <div *ngIf="!(xs$ | async) else xs" matLine class="mat-body-1">
    <invitation-message [invitation]="invitation"></invitation-message>
  </div>
  <span matLine>
    <small class="mat-caption">
      {{ invitation.date | date: 'medium' }}
    </small>
  </span>
  <invitation-action [invitation]="invitation"></invitation-action>
  <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Trigger for a menu">
    <mat-icon svgIcon="more_vert">
    </mat-icon>
  </button>
</mat-list-item>
<ng-template #xs>
  <div class="mat-body-1">
    <invitation-message [invitation]="invitation"></invitation-message>
  </div>
</ng-template>
<mat-menu #menu="matMenu">
  <a test-id="more" mat-menu-item [routerLink]="invitation | eventLink">Go to event</a>
  <ng-container [ngSwitch]="invitation.status">
    <div *ngSwitchCase="'pending'">
      <span mat-menu-item (click)="handleInvitation(invitation, 'acceptInvitation')">
        Accept invitation
      </span>
      <span mat-menu-item (click)="handleInvitation(invitation, 'declineInvitation')">
        Decline invitation
      </span>
    </div>
  </ng-container>
</mat-menu>